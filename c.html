<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <nav>
    <title>Blog List</title>
    </nav>
</head>
<link rel="stylesheet" href="styles.css">
<body>
    <header>
        <div class="header-content">
            <h1>The News Hive</h1>
            <p>My WordPress Blog</p>
        </div>
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">News</a></li>
                <li><a href="#">World</a></li>
                <li><a href="#">Business</a></li>
                <li><a href="#">Politics</a></li>
                <li><a href="#">Entertainment</a></li>
                <li><a href="#">Sports</a></li>
            </ul>
        </nav>
        <div class="breaking-news">
            <span>BREAKING NEWS</span>
            <marquee>ICC T20 World Cup 2022 Schedule update...</marquee>
        </div>
    </header>
    <main>
        <section id="section1" class="blogs">
            <h2>Large Blogs</h2>
            <div id="largeBlogs" class="blog-container"></div>
        </section>
        <section id="section2" class="blogs">
            <h2>Small Blogs</h2>
            <div id="smallBlogs" class="blog-container blog-list"></div>
        </section>
    </main>

    <script>
        // Fetch data from the API
        fetch('https://coding-week-2024-api.onrender.com/api/data')
            .then(response => response.json())
            .then(data => {
                // Separate large and small blogs
                const largeBlogs = data.filter(blog => blog.type !== 'historical' && blog.type !== 'cultural');
                const smallBlogs = data.filter(blog => blog.type === 'historical' || blog.type === 'cultural');

                // Render large blogs
                const largeBlogsContainer = document.getElementById('largeBlogs');
                largeBlogs.forEach(blog => {
                    const blogElement = createFullBlogElement(blog);
                    largeBlogsContainer.appendChild(blogElement);
                });

                // Render small blogs
                const smallBlogsContainer = document.getElementById('smallBlogs');
                smallBlogs.forEach(blog => {
                    const blogElement = createListItemElement(blog);
                    smallBlogsContainer.appendChild(blogElement);
                });
            })
            .catch(error => console.error('Error fetching data:', error));

        // Function to create a full blog element
        function createFullBlogElement(blog) {
            const blogDiv = document.createElement('div');
            blogDiv.classList.add('blog');

            const headline = document.createElement('h3');
            headline.textContent = blog.headline;
            blogDiv.appendChild(headline);

            const image = document.createElement('img');
            image.src = blog.image;
            image.alt = blog.headline;
            blogDiv.appendChild(image);

            const date = document.createElement('p');
            date.textContent = `Date: ${blog.date}`;
            blogDiv.appendChild(date);

            if (blog.author) {
                const author = document.createElement('p');
                author.textContent = `Author: ${blog.author}`;
                blogDiv.appendChild(author);
            }

            if (blog.type) {
                const type = document.createElement('p');
                type.textContent = `Type: ${blog.type}`;
                blogDiv.appendChild(type);
            }

            // Add click event listener to display content when clicked
            blogDiv.addEventListener('click', () => {
                alert(blog.content);
            });

            return blogDiv;
        }

        // Function to create a list item element
        function createListItemElement(blog) {
            const listItem = document.createElement('div');
            listItem.classList.add('blog-list-item');

            const image = document.createElement('img');
            image.src = blog.image;
            image.alt = blog.headline;
            listItem.appendChild(image);

            const headline = document.createElement('h3');
            headline.textContent = blog.headline;
            listItem.appendChild(headline);

            const date = document.createElement('p');
            date.textContent = `Date: ${blog.date}`;
            listItem.appendChild(date);

            return listItem;
        }
    </script>
</body>
</html>
